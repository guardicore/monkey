from functools import partial

from agentpluginapi import AgentBinaryTransform
from plugintoolbox import build_bash_dropper

from infection_monkey.transformer import Transformer


class SNMPTransformer(Transformer):
    def __init__(self, destination_path, command: str):
        self._destination_path = destination_path
        self._command = command

    def transform(self) -> AgentBinaryTransform:
        return partial(build_bash_dropper, self._destination_path, self._command)
